!function(e,n){"object"==typeof exports&&"object"==typeof module?module.exports=n(require("@danehansen/event-dispatcher")):"function"==typeof define&&define.amd?define(["@danehansen/event-dispatcher"],n):"object"==typeof exports?exports.Timer=n(require("@danehansen/event-dispatcher")):(e.danehansen=e.danehansen||{},e.danehansen.Timer=n(e.danehansen.EventDispatcher))}(this,function(e){return function(e){function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}var t={};return n.m=e,n.c=t,n.i=function(e){return e},n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},n.p="",n(n.s=1)}([function(n,t){n.exports=e},function(e,n,t){"use strict";function r(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function o(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?e:n}function i(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}var u=function(){function e(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}(),a=t(0),c=function(e){return e&&e.__esModule?e:{default:e}}(a),f=function(e){function n(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;r(this,n);var i=o(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return i.delay=function(e){if(void 0===e)return i._delay;i._delay=e,i._running&&(i.stop(),i._timeLeft=i._delay,i.start())},i.reset=function(){i.stop(),i._timeLeft=i._delay,i._currentCount=0},i.start=function(){i._running||(i._running=!0,i._increment())},i.stop=function(){i._running&&(clearTimeout(i._timeout),i._timeLeft=i._delay-Date.now()+i._lastTime,i._running=!1)},i.destroy=function(){i.stop(),i.clearEventListeners()},i._increment=function(){i._lastTime=Date.now(),i._timeout=setTimeout(i._onTimer,i._timeLeft),i._timeLeft=i._delay},i._onTimer=function(){i._currentCount++,i.dispatchEvent(n.TIMER),i._running&&(!i.repeatCount||i._currentCount<i.repeatCount?i._increment():i._onTimerComplete())},i._onTimerComplete=function(){i._running=!1,i.dispatchEvent(n.TIMER_COMPLETE)},i._currentCount=0,i._delay=e,i._lastTime=null,i.repeatCount=t,i._running=!1,i._timeLeft=e,i._timeout=null,i}return i(n,e),u(n,[{key:"currentCount",get:function(){return this._currentCount}},{key:"running",get:function(){return this._running}}]),n}(c.default);f.TIMER="TIMER",f.TIMER_COMPLETE="TIMER_COMPLETE",e.exports=f}])});